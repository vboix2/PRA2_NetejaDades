---
lang: ca-ES
title: "Pràctica 2: Neteja i validació de dades"
subtitle: "Tipologia i cicle de vida de les dades"
author: "Jesús Marí i Víctor Boix"
date: "Data de presentació: 11/06/2019"
output: 
  pdf_document:
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 1. Descripció del dataset

El dataset utilitzat en aquesta pràctica s'ha obtingut de la pàgina web de *Kaggle*  (https://www.kaggle.com/c/titanic) i conté les dades dels passatgers del Titanic durant el desastre del 1912. L'objectiu d'aquest conjunt de dades és realitzar una predicció sobre la supervivència d'alguns passatgers a partir de les seves característiques. Per tant, es tracta d'una tasca de classificació on cal construir un model supervisat capaç de determinar el valor de l'atribut *Survived* (variable objectiu o dependent) a partir de la resta d'atributs (variables independents). 

Les conjunt de dades està format per dos fitxers CSV:

* *Titanic_train.csv*. Conjunt d'entrenament que servirà per entrenar el model, per tant, conté l'atribut objectiu o classe *Survived*. Està format per 891 registres i 12 atributs.
* *Titanic_test.csv*. Conjunt de prova, conté els registres sobre els que cal realitzar la predicció. Està format per 418 registres i 11 atributs.

La informació que contenen els atributs és la següent:

* *PassengerId*. Identificador únic del viatger al dataset (nombre enter).
* *Survived*. Atribut que indica si el passatger va sobreviure a la catàstrofe (1: va sobreviure, 0: va morir). Només disponible al conjunt *train*.
* *Pclass*. Indica la classe en què viatjava el passatger (1: primera classe, 2: segona classe, 3: tercera classe).
* *Name*. Nom complet del viatger (cadena de text).
* *Sex*. Sexe del viatger (male: home, female: dona).
* *Age*. Edat del viatger en anys (nombre real).
* *SibSp*. Nombre de germans, germanes o marit/muller a bord del vaixell (nombre enter).
* *Parch*. Nombre de pares o fills a bord del vaixell (nombre enter).
* *Ticket*. Nombre del tiquet (cadena de text).
* *Fare*. Import pagat pel bitllet (nombre real).
* *Cabin*. Cabina on s'allotjava el passatger (cadena de text).
* *Embarked*. Port d'embarcament del viatger (C: Cherbourg, Q: Queenstown, S: Southampton).

# 2. Integració i selecció de les dades

```{r}
# Càrrega dels fitxers de dades
train <- read.csv('../data/Titanic_train.csv')
test <- read.csv('../data/Titanic_test.csv')
```


# 3. Neteja de les dades
Començem examinant el dataframe i el tipus de les seves columnes amb la funció str(), podem veure que el tipus de la columna "survived" es enter, el convertirem a Factor, el mateix passa amb la columna Pclass. 

```{r}
"examinem el datafram i convertim a factor les columnes Survived i Pclass"
str(train)
str(test)
```
```{r}
train[,'Survived']<-factor(train[,'Survived'])
train[,'Pclass']<-factor(train[,'Pclass'])
test[,'Pclass']<-factor(test[,'Pclass'])
str(train)
```
Al convertir a factor podem veure que les columnes "Survived" i "Pclass" no contenen cap valor nul. Les columnes que contenen valors nuls o buits són "Cabin", "Embarked", "Age" (NA)       

## 3.1. Elements buits
Examinarem els elements buids a les columnes dels dataframes "Train" i "test". Podem veure que tenim molts de valors NA a la columna "Age" i un a la columna "Fare"del conjunt de test.
```{r}
sapply(train, function(x) sum(is.na(x)))
sapply(test, function(x) sum(is.na(x)))
```

## 3.2. Valors extrems
Examinem els valors extrems amb els boxplot.stats(columna)$out
```{r}
boxplot.stats(train$Age)$out
boxplot.stats(train$Fare)$out

```


# 4. Anàlisi de dades

## 4.1. Selecció de dades

## 4.2. Normalitat i homogeneïtat de la variància

## 4.3. Proves estadístiques

# 5. Representació de dades

# 6. Resolució del problema

# 7. Codi

# 8. Recursos

